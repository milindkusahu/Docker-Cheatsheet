# Docker Commands Cheatsheet and Reference

This document provides an overview of the most important Docker commands and concepts that are commonly asked about in interviews.

## Docker Fundamentals

### What is Docker?

Docker is an open-source platform for building, deploying, and managing containerized applications. It allows developers to package their applications and dependencies into a standardized unit called a container, which can then be easily distributed and run on any system.

### Key Docker Concepts

- **Image**: A read-only template used to create containers. Contains the application code, dependencies, and other necessary files.
- **Container**: A runnable instance of an image. Containers are isolated, lightweight, and portable.
- **Registry**: A central store for Docker images. The most common is Docker Hub, a public registry provided by Docker.
- **Dockerfile**: A text file that contains the instructions for building a Docker image.
- **Volumes**: A way to persist data generated by a container, independent of the container's lifecycle.
- **Networks**: Allows containers to communicate with each other and the outside world.
- **Docker Compose**: A tool for defining and running multi-container Docker applications.

## Important Docker Commands

### Docker Container Commands

| Command                                   | Description                                    |
| ----------------------------------------- | ---------------------------------------------- |
| `docker run <image>`                    | Create and start a new container from an image |
| `docker start <container>`              | Start an existing, stopped container           |
| `docker stop <container>`               | Stop a running container                       |
| `docker pause <container>`              | Pause all processes within a container         |
| `docker unpause <container>`            | Unpause a paused container                     |
| `docker kill <container>`               | Kill a running container (sends SIGKILL)       |
| `docker rm <container>`                 | Remove a stopped container                     |
| `docker exec -it <container> <command>` | Execute a command in a running container       |

### Docker Image Commands

| Command                     | Description                                                  |
| --------------------------- | ------------------------------------------------------------ |
| `docker build -t <tag> .` | Build a new image from a Dockerfile in the current directory |
| `docker images`           | List all local images                                        |
| `docker pull <image>`     | Pull an image from a registry                                |
| `docker push <image>`     | Push an image to a registry                                  |
| `docker rmi <image>`      | Remove a local image                                         |
| `docker image prune`      | Remove all unused images                                     |

### Docker Network Commands

| Command                                             | Description                           |
| --------------------------------------------------- | ------------------------------------- |
| `docker network create <network>`                 | Create a new network                  |
| `docker network ls`                               | List all networks                     |
| `docker network inspect <network>`                | Inspect a network                     |
| `docker network connect <network> <container>`    | Connect a container to a network      |
| `docker network disconnect <network> <container>` | Disconnect a container from a network |
| `docker network rm <network>`                     | Remove a network                      |

### Docker Volume Commands

| Command                            | Description               |
| ---------------------------------- | ------------------------- |
| `docker volume create <volume>`  | Create a new volume       |
| `docker volume ls`               | List all volumes          |
| `docker volume inspect <volume>` | Inspect a volume          |
| `docker volume rm <volume>`      | Remove a volume           |
| `docker volume prune`            | Remove all unused volumes |

### Docker Compose Commands

| Command                                     | Description                                         |
| ------------------------------------------- | --------------------------------------------------- |
| `docker-compose up -d`                    | Start all services in detached mode                 |
| `docker-compose down`                     | Stop and remove all services, networks, and volumes |
| `docker-compose logs -f`                  | Follow logs for all services                        |
| `docker-compose ps`                       | List all running services                           |
| `docker-compose exec <service> <command>` | Execute a command in a running service container    |

This cheatsheet covers the most commonly used Docker commands. For more detailed information, refer to the official [Docker documentation](https://docs.docker.com/engine/reference/commandline/).

## Docker Best Practices

- **Use Minimal Base Images**: Start with a minimal base image (e.g., `alpine` or `scratch`) to reduce the image size and attack surface.
- **Utilize Multi-Stage Builds**: Use multi-stage builds to optimize image size by only including the necessary build artifacts.
- **Leverage Environment Variables**: Use environment variables for configuration to make your containers more portable.
- **Implement Health Checks**: Add health check commands to ensure your containers are running correctly.
- **Manage Secrets Securely**: Use tools like Docker Secrets or environment variables to store sensitive information.
- **Avoid Installing Unnecessary Packages**: Only install packages that are required for your application to run.
- **Minimize Layers in Dockerfile**: Consolidate instructions in your Dockerfile to reduce the number of layers.
- **Tag Images Consistently**: Use a consistent naming and tagging convention for your Docker images.

## Common Docker Interview Questions and Answers

1.) Difference between Docker containers and Virtual Machines
<details>
<summary>Answer</summary>
Containers are lightweight, run on the host's operating system, and share the host's kernel. Virtual Machines (VMs) are full-blown operating systems that run on top of a hypervisor.
</details>

2.) Dockerfiles and building Docker images  
<details>
<summary>Answer</summary>
A Dockerfile is a text file that contains instructions for building a Docker image. You use the `docker build` command to build an image from a Dockerfile.
</details>

3.) Managing data persistence with Docker volumes
<details>
<summary>Answer</summary>
Volumes are the preferred way to persist data in Docker. They allow you to decouple data from the container lifecycle and store it on the host file system.
</details>

4.) The Docker networking model and network types
<details>
<summary>Answer</summary>
Docker provides several network drivers, including bridge, host, overlay, and macvlan. These allow containers to communicate with each other and the outside world.
</details>

5.) Purpose and usage of Docker Compose
<details>
<summary>Answer</summary>
Docker Compose is a tool for defining and running multi-container Docker applications. It allows you to specify the services, networks, and volumes in a YAML file, making it easier to deploy complex applications.
</details>

6.) Best practices for building Docker images
<details>
<summary>Answer</summary>
Best practices include using minimal base images, implementing multi-stage builds, managing secrets securely, and avoiding installing unnecessary packages.
</details>

7.) Handling environment-specific configurations
<details>
<summary>Answer</summary>
You can use environment variables to store configuration settings and make your containers more portable across different environments.
</details>

8.) Deploying a Docker-based application to production
<details>
<summary>Answer</summary>
The process typically involves building Docker images, pushing them to a registry, and then using orchestration tools like Kubernetes or Docker Swarm to deploy the application to production.
</details>

9.) Docker registries and image distribution
<details>
<summary>Answer</summary>
A Docker registry is a centralized store for Docker images. The most popular is Docker Hub, which allows you to host and distribute your own Docker images.
</details>

10.) Debugging and troubleshooting Docker containers
<details>
<summary>Answer</summary>
You can use commands like `docker logs`, `docker exec`, and `docker inspect` to view logs, execute commands, and inspect the state of a running container.
</details>
